<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace 不是必须为类的全限定名,只要是能够保证不重复即可 -->
<mapper namespace="com.edrop.mapper.UserMapper">

	<!-- id 查询用户信息 -->
	<select id="selUserInfoById" resultType="user">
		select * from user where id = #{param1}
	</select>
	<!-- 插入用户信息 -->
	<insert id="insUserInfo">
		insert into user values(default, #{param1}, #{param2}, #{param3}, #{param4}, #{param5}, #{param6}, #{param7}, #{param8}, #{param9}, #{param10})
	</insert>
	
	<!-- 跟新用户数据 -->
	<update id="upUserInfo">
		update user
	 	<set>
	 		id = #{param1},
	 		<if test="param2 != '' and param2 != null">
	 			phone = #{param2},
	 		</if>
	 		<if test="param3 != '' and param3 != null">
	 			qq = #{param3},
	 		</if>
	 		<if test="param4 != '' and param4 != null">
	 			username = #{param4},
	 		</if>
	 		<if test="param5 != '' and param5 != null">
	 			password = #{param5},
	 		</if>
	 		<if test="param6 != '' and param6 != null">
	 			imgpath = #{param6},
	 		</if>
	 		<if test="param7 != '' and param7 != null">
	 			imgname = #{param7},
	 		</if>
	 		<if test="param8 != '' and param8 != null">
	 			address = #{param8},
	 		</if>
	 		<if test="param9 != '' and param9 != null">
	 			gender = #{param9},
	 		</if>
	 		<if test="param10 != '' and param10 != null">
	 			detailAddress = #{param10},
	 		</if>
	 	</set>
	 	where id = #{param1}
	</update>
	
	<select id="selectAllUser" resultType="com.edrop.pojo.User">
		select *
		from user
	</select>
</mapper>